## Описание
Проект представляет собой решение поставленного компанией [YADRO](https://yadro.com/) тестового задания.

## Задание
Задан CSV-файл (comma-separated values) с заголовком, в котором перечислены названия столбцов. Строки нумеруются целыми
положительными числами, необязательно в порядке возрастания. В ячейках CSV-файла могут хранится или целые числа или
выражения вида = ARG1 OP ARG2, где ARG1 и ARG2 – целые числа или адреса ячеек в формате **_Имя_колонки Номер_строки_**,
а OP – арифметическая операция из списка: **+**, **-**, **&ast;**, **/**.

Например, таблица

|      |A  |B         | Cell |
|------|---|----------|------|
|1     |1  |0         | 1    |
|2     |2  |=A1+Cell30| 0    |
|30    |0  |=B1+A1    | 5    |

будет представлена в CSV-формате следующим образом:
```
,A,B,Cell
1,1,0,1
2,2,=A1+Cell30,0
30,0,=B1+A1,5
```
где пропуск первого значения в первой строке CSV-представления обозначает пустую левую верхнюю ячейку таблицы.

Требуется написать программу, которая читает произвольную CSV-форму из файла (количество строк и столбцов может быть любым), 
вычисляет значения ячеек, если это необходимо, и выводит получившуюся табличку в виде CSV-представления в консоль. 
Решением задания будет: файл или несколько файлов с исходным кодом программы на языке **_C++_**, инструкции по сборке и 
тестовые примеры (количество тестов — на усмотрение разработчика).

Программа должна компилироваться компилятором **gcc** или **clang** в **Linux**, **mingw**/**cygwin** в **Windows**. 
Рекомендуется использование стандартной библиотеки (**STL**). Использование любых сторонних библиотек, кроме **STL**, 
запрещено. Имя CSV-файла необходимо передавать первым аргументом командной строки. В решении, кроме файлов с исходным кодом, 
требуется предоставить инструкции по компиляции программы для проверки. Можно, но необязательно, использовать следующие 
системы автоматизации сборки: **make**, **automake**, **cmake**, **gradle**; проприетарные средства сборки не допускаются: 
например, файлы проектов _MS Visual Studio_ не подойдут.

Пример запуска программы:
```bash
$ csvreader.exe file.csv
```
где **csvreader.exe** — имя исполняемого файла (может быть любым), **file.csv** — имя файла с таблицей
(произвольно задаётся пользователем).

Для приведённого примера результат, напечатанный в консоль, может быть таким:
```
,A,B,Cell
1,1,0,1
2,2,6,0
30,0,1,5
```

Рекомендуется решение задачи проверять
- На приведённом примере;
- На дополнительных тестах (csv-файлах), выбор которых отводится на ваше усмотрение; постарайтесь в своих тестах учесть
    различные правильные и ошибочные ситуации (например, к ошибочным можно отнести деление на 0, некорректные адреса ячеек, 
    неверные номера строк, неправильный формат таблицы и т.п.);
- Можно (но необязательно) написать дополнительно проверочные юнит-тесты с использованием доступной библиотеки 
    (**Google Test**, **CppUTest**, и т.п.).

Рекомендуется в решении задания использовать современные возможности **_С++_**, структуры и типы данных из стандартной 
библиотеки (**STL**).

## Программная реализация
Для решения поставленного [задания](#задание) использовались следующие средства разработки:
- [Trello board](https://trello.com/b/0ElsMgGU/yadrotesttask);
- [C++20](https://en.cppreference.com/w/cpp/20);
- [CMake](https://cmake.org/);
- [ninja 1.10.2](https://github.com/ninja-build/ninja);
- GCC 11.3.0 (для Windows MinGW-w64 10.0.0).

## Тестирование
Для тестирования использовался фреймворк [Catch2](https://github.com/catchorg/Catch2) версии 
[3.3.1](https://github.com/catchorg/Catch2/releases/tag/v3.3.1).

Для проведения тестирования был разработан следующий набор тестовых сценариев:
- [Обработка файла с некорректным расширением](test/YadroTaskTest.cpp#L29);
- [Обработка несуществующего файла](test/YadroTaskTest.cpp#L33);
- [Обработка пустого файла](test/YadroTaskTest.cpp#L41);
- [Обработка файла с некорректным заголовком](test/YadroTaskTest.cpp#L45);
- [Обработка файла с пустым именем столбца](test/YadroTaskTest.cpp#L49);
- [Обработка файла с именем столбца неправильного формата](test/YadroTaskTest.cpp#L53);
- [Обработка файла с пустым номером строки](test/YadroTaskTest.cpp#L57);
- [Обработка файла с номером строки неправильного формата](test/YadroTaskTest.cpp#L61);
- [Обработка файла, в котором число ячеек меньше числа столбцов](test/YadroTaskTest.cpp#L65);
- [Обработка файла, в котором число ячеек больше числа столбцов](test/YadroTaskTest.cpp#L69);
- [Обработка файла с пустой ячейкой](test/YadroTaskTest.cpp#L73);
- [Обработка файла с ячейкой некорректного формата](test/YadroTaskTest.cpp#L77);
- [Обработка файла с выражением в ячейке некорректного формата](test/YadroTaskTest.cpp#L81);
- [Обработка правильно заданного файла](test/YadroTaskTest.cpp#L86);
- [Обработка некорректной операции в ячейке (деление на ноль)](test/YadroTaskTest.cpp#L95);
- [Обработка некорректного выражения в ячейке, которое само ссылается на данную ячейку 
или с помощью выражений в других ячейках](test/YadroTaskTest.cpp#L100);
- [Вычисление значений ячеек файла, в которых находятся либо целые числа, либо выражения,
состоящие как из целых чисел, так и из имён ячеек](test/YadroTaskTest.cpp#L115);
- [Вычисление значений ячеек файла, в которых находятся либо целые числа, либо выражения,
состоящие из целых чисел](test/YadroTaskTest.cpp#L139);
- [Вычисление значений ячеек файла, в которых находятся выражения, состоящие как из целых чисел, 
так и из имён ячеек](test/YadroTaskTest.cpp#L163);
- [Вычисление значений ячеек тестового примера, взятого из описания технического задания](test/YadroTaskTest.cpp#L188);
- [Проверка правильности печати тестового файла, взятого из описания технического задания](test/YadroTaskTest.cpp#L205).

## Сборка и запуск
Для сборки (сборка основного бинарника и тестов) нужно, находясь в корне проекта, запустить следующую команду:
- **Windows**:
    ```bash
    .\build.sh
    ```
- **Linux**:
    ```bash
    $ sudo chmod +x build.sh
    $ ./build.sh
    ```

Запуск:
- Основная программа:
  - **Windows**:
    ```bash
    cd build/src
    YadroTask.exe <path_to_csv_file>
    ```
  - **Linux**:
    ```bash
    $ cd build/src
    $ ./YadroTask <path_to_csv_file>
    ```
- Тесты:
  - **Windows**:
    ```bash
    cd build/test
    YadroTaskTest.exe
    ```
  - **Linux**:
    ```bash
    $ cd build/test
    $ ./YadroTaskTest
    ```
